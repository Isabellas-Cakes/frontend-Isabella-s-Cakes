{"version":3,"file":"js/201.12644cdd.js","mappings":"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","sources":["webpack://interfaz/./src/views/NuevoPedido.vue","webpack://interfaz/./src/views/NuevoPedido.vue?4047","webpack://interfaz/../../../src/components/VSnackbar/VSnackbar.tsx"],"sourcesContent":["<template>\r\n  <v-container class=\"pb-16\">\r\n    <!-- 🔹 ENCABEZADO -->\r\n    <v-row>\r\n      <v-col cols=\"12\">\r\n        <h2>Nuevo pedido</h2>\r\n      </v-col>\r\n\r\n      <!-- 🔹 ALERTA DE ESTADO -->\r\n      <v-col cols=\"12\" v-if=\"pedido.id_pedido\">\r\n        <v-alert\r\n          :type=\"tipoAlerta\"\r\n          :icon=\"iconoAlerta\"\r\n          :color=\"colorAlerta\"\r\n          border=\"start\"\r\n          class=\"mb-2\"\r\n        >\r\n          Estado actual: <strong>{{ pedido.estado.toUpperCase() }}</strong><br />\r\n\r\n          <template v-if=\"pedido.estado === 'servido'\">\r\n            ✅ Pedido servido: en espera de pago. No se pueden agregar más artículos.\r\n          </template>\r\n\r\n          <!-- ✅ En \"en preparación\" SÍ permite agregar -->\r\n          <template v-else-if=\"pedido.estado === 'en preparación'\">\r\n            <p>El pedido está en preparación. <strong>Puedes agregar artículos nuevos</strong> y se enviarán a cocina.</p>\r\n            <div v-if=\"pedido.articulos.length\" class=\"mt-2\">\r\n              <h6 class=\"fw-bold mb-1\">Artículos del pedido:</h6>\r\n              <ul class=\"mb-0 ps-3\">\r\n                <li v-for=\"item in pedido.articulos\" :key=\"item._uid\">\r\n                  {{ item.cantidad }} × {{ item.nombre }}\r\n                  <span v-if=\"item.preparado\" class=\"badge bg-success ms-2\">✅ Listo</span>\r\n                </li>\r\n              </ul>\r\n            </div>\r\n          </template>\r\n\r\n          <template v-else>\r\n            Puedes agregar más artículos si el cliente lo solicita.\r\n          </template>\r\n        </v-alert>\r\n      </v-col>\r\n\r\n      <!-- 🔹 TIEMPO EN PREPARACIÓN -->\r\n      <v-col cols=\"12\" v-if=\"pedido.estado === 'en preparación' && pedido.inicio_preparacion\">\r\n        <div class=\"text-grey text-caption\">\r\n          ⏳ En preparación desde hace {{ minutosEnPreparacion }} minuto(s)\r\n        </div>\r\n      </v-col>\r\n\r\n      <!-- 🔹 BOTONES DE ACCIÓN JUNTOS -->\r\n      <v-col cols=\"12\" class=\"text-right\">\r\n        <!-- ✅ Enviar (única notificación visible) -->\r\n        <v-btn\r\n          color=\"green\"\r\n          @click=\"enviarPedido\"\r\n          :disabled=\"!pedidoValido || pedido.estado === 'servido' || isSubmitting\"\r\n        >\r\n          <v-icon start>mdi-send</v-icon>\r\n          {{ isSubmitting ? \"Enviando...\" : \"Enviar\" }}\r\n        </v-btn>\r\n\r\n        <!-- Cancelar -->\r\n        <v-btn\r\n          color=\"red\"\r\n          class=\"ml-2\"\r\n          @click=\"cancelarPedido\"\r\n          :disabled=\"pedido.estado === 'servido' || pedido.estado === 'cancelado'\"\r\n        >\r\n          <v-icon start>mdi-cancel</v-icon>\r\n          Cancelar\r\n        </v-btn>\r\n\r\n        <!-- Marcar como servido -->\r\n        <v-btn\r\n          color=\"teal\"\r\n          class=\"ml-2\"\r\n          v-if=\"pedido.id_pedido && pedido.estado === 'listo'\"\r\n          @click=\"marcarComoServido\"\r\n        >\r\n          <v-icon start>mdi-check-circle</v-icon>\r\n          Marcar como servido\r\n        </v-btn>\r\n      </v-col>\r\n    </v-row>\r\n\r\n    <!-- 🔹 CAMPOS DE FORMULARIO -->\r\n    <v-text-field\r\n      v-model=\"pedido.nombre\"\r\n      label=\"Nombre\"\r\n      prepend-inner-icon=\"mdi-pencil\"\r\n      @input=\"validarNombre\"\r\n    />\r\n\r\n    <!-- 🔹 TOTAL -->\r\n    <h3>Total de pedido: Q{{ totalGeneral.toFixed(2) }}</h3>\r\n\r\n    <!-- 🔹 BUSCADOR -->\r\n    <v-text-field\r\n      v-model=\"search\"\r\n      label=\"Buscar\"\r\n      prepend-inner-icon=\"mdi-magnify\"\r\n      clearable\r\n    />\r\n\r\n    <!-- 🔹 RESULTADOS DEL BUSCADOR GLOBAL -->\r\n    <v-list\r\n      v-if=\"(search || '').trim() && articulosFiltradosGlobal.length\"\r\n      class=\"mb-4 elevation-1\"\r\n    >\r\n      <v-list-item\r\n        v-for=\"articulo in articulosFiltradosGlobal\"\r\n        :key=\"articulo.id_articulo\"\r\n        @click=\"agregarArticulo(articulo)\"\r\n      >\r\n        <v-list-item-content>\r\n          <v-list-item-title>{{ articulo.nombre }}</v-list-item-title>\r\n          <v-list-item-subtitle>Q{{ articulo.precio }}</v-list-item-subtitle>\r\n        </v-list-item-content>\r\n        <v-icon color=\"green\">mdi-plus</v-icon>\r\n      </v-list-item>\r\n    </v-list>\r\n\r\n    <!-- 🔹 ARTÍCULOS POR CATEGORÍA -->\r\n    <v-expansion-panels>\r\n      <v-expansion-panel\r\n        v-for=\"categoria in categoriasFiltradas\"\r\n        :key=\"categoria.id_categoria\"\r\n      >\r\n        <v-expansion-panel-title>\r\n          {{ categoria.nombre }} (Q{{ calcularSubtotalCategoria(categoria.id_categoria).toFixed(2) }})\r\n        </v-expansion-panel-title>\r\n\r\n        <v-expansion-panel-text>\r\n          <!-- 🔹 Lista de artículos en edición -->\r\n          <v-card\r\n            v-for=\"item in pedido.articulos.filter((i) => i.id_categoria === categoria.id_categoria && !i.yaAgregado)\"\r\n            :key=\"item._uid\"\r\n            class=\"mb-3\"\r\n          >\r\n            <v-card-text>\r\n              <div class=\"d-flex align-center justify-space-between\">\r\n                <div>\r\n                  <strong>{{ item.nombre }}</strong>\r\n                  <div>Q{{ item.precio }}</div>\r\n                </div>\r\n\r\n                <div class=\"d-flex align-center\">\r\n                  <v-btn icon @click=\"item.expandido = !item.expandido\">\r\n                    <v-icon>{{ item.expandido ? \"mdi-check\" : \"mdi-dots-horizontal\" }}</v-icon>\r\n                  </v-btn>\r\n                  <v-btn icon @click=\"item.cantidad--\" :disabled=\"item.cantidad <= 1\">\r\n                    <v-icon>mdi-minus</v-icon>\r\n                  </v-btn>\r\n                  <div class=\"mx-2\">{{ item.cantidad }}</div>\r\n                  <v-btn icon @click=\"item.cantidad++\">\r\n                    <v-icon>mdi-plus</v-icon>\r\n                  </v-btn>\r\n                </div>\r\n              </div>\r\n\r\n              <!-- 🔹 Opciones extra -->\r\n              <div v-if=\"item.expandido\" class=\"mt-2\">\r\n                <v-text-field v-model=\"item.extra\" label=\"Algo extra\" dense />\r\n\r\n                <v-row class=\"mt-2\">\r\n                  <v-col cols=\"6\">\r\n                    <v-btn block color=\"teal\" @click=\"duplicarArticulo(item)\">\r\n                      <v-icon start>mdi-content-copy</v-icon> Duplicar\r\n                    </v-btn>\r\n                  </v-col>\r\n                  <v-col cols=\"6\">\r\n                    <v-btn block color=\"red\" @click=\"eliminarArticulo(item)\">\r\n                      <v-icon start>mdi-delete</v-icon> Eliminar\r\n                    </v-btn>\r\n                  </v-col>\r\n                </v-row>\r\n              </div>\r\n            </v-card-text>\r\n          </v-card>\r\n\r\n          <!-- 🔹 Lista de artículos disponibles -->\r\n          <v-list-item\r\n            v-for=\"articulo in articulosFiltradosDisponibles(categoria.id_categoria)\"\r\n            :key=\"articulo.id_articulo\"\r\n            @click=\"agregarArticulo(articulo)\"\r\n          >\r\n            <v-list-item-content>\r\n              <v-list-item-title>{{ articulo.nombre }}</v-list-item-title>\r\n              <v-list-item-subtitle>Q{{ articulo.precio }}</v-list-item-subtitle>\r\n            </v-list-item-content>\r\n            <v-icon color=\"green\">mdi-plus</v-icon>\r\n          </v-list-item>\r\n        </v-expansion-panel-text>\r\n      </v-expansion-panel>\r\n    </v-expansion-panels>\r\n\r\n    <!-- 🔹 RESUMEN DEL PEDIDO -->\r\n    <h3 class=\"mt-6\">Resumen del pedido</h3>\r\n    <v-card class=\"mb-4\" outlined>\r\n      <v-card-title>\r\n        Artículos del pedido - Total: Q{{ totalGeneral.toFixed(2) }}\r\n      </v-card-title>\r\n      <v-divider></v-divider>\r\n      <v-card-text>\r\n        <v-list dense>\r\n          <!-- 🧾 Artículos ya agregados -->\r\n          <v-subheader class=\"pl-0\" v-if=\"articulosYaAgregadosAgrupados.length\">\r\n            🧾 Ya en el pedido\r\n          </v-subheader>\r\n          <v-list-item\r\n            v-for=\"item in articulosYaAgregadosAgrupados\"\r\n            :key=\"`${item.nombre}_${item.precio}_${item.extra}`\"\r\n          >\r\n            <v-list-item-content>\r\n              <v-list-item-title style=\"font-family: monospace\">\r\n                {{ item.cantidad }} × {{ item.nombre }} — Q{{ (item.precio * item.cantidad).toFixed(2) }}\r\n              </v-list-item-title>\r\n              <v-list-item-subtitle v-if=\"item.extra\">\r\n                Extra: {{ item.extra }}\r\n              </v-list-item-subtitle>\r\n            </v-list-item-content>\r\n          </v-list-item>\r\n\r\n          <!-- 🆕 Nuevos artículos -->\r\n          <v-subheader\r\n            class=\"pl-0 mt-2\"\r\n            v-if=\"pedido.articulos.some((i) => !i.yaAgregado)\"\r\n          >\r\n            🆕 Nuevos artículos\r\n          </v-subheader>\r\n          <v-list-item\r\n            v-for=\"item in pedido.articulos.filter((i) => !i.yaAgregado)\"\r\n            :key=\"'nuevo_' + item._uid\"\r\n          >\r\n            <v-list-item-content>\r\n              <v-list-item-title style=\"font-family: monospace\">\r\n                {{ item.cantidad }} × {{ item.nombre }} — Q{{ (item.precio * item.cantidad).toFixed(2) }}\r\n              </v-list-item-title>\r\n              <v-list-item-subtitle v-if=\"item.extra\">\r\n                Extra: {{ item.extra }}\r\n              </v-list-item-subtitle>\r\n            </v-list-item-content>\r\n          </v-list-item>\r\n        </v-list>\r\n      </v-card-text>\r\n    </v-card>\r\n\r\n    <!-- 🔹 DIÁLOGO CONFIRMAR ENVÍO -->\r\n    <v-dialog v-model=\"confirmarEnvio\" max-width=\"500\">\r\n      <v-card>\r\n        <v-card-title>¿Enviar pedido?</v-card-title>\r\n        <v-card-text>\r\n          Total: Q{{ totalGeneral.toFixed(2) }}<br />\r\n          Artículos: {{ pedido.articulos.length }}\r\n\r\n          <div v-if=\"pedido.articulos.length === 0\" class=\"text-red mt-2\">\r\n            ⚠️ Debes agregar al menos un artículo antes de enviar el pedido.\r\n          </div>\r\n          <div v-if=\"!pedido.nombre.trim()\" class=\"text-red mt-2\">\r\n            ⚠️ Debes ingresar un nombre.\r\n          </div>\r\n        </v-card-text>\r\n        <v-card-actions>\r\n          <v-btn text @click=\"confirmarEnvio = false\">Cancelar</v-btn>\r\n          <v-btn\r\n            color=\"green\"\r\n            :disabled=\"!pedidoValido || pedido.estado === 'servido' || isSubmitting\"\r\n            @click=\"enviarPedido\"\r\n          >\r\n            <v-icon start>mdi-send</v-icon>\r\n            {{ isSubmitting ? \"Enviando...\" : \"Confirmar\" }}\r\n          </v-btn>\r\n        </v-card-actions>\r\n      </v-card>\r\n    </v-dialog>\r\n\r\n    <!-- ✅ ÚNICA NOTIFICACIÓN: SNACKBAR AL ENVIAR -->\r\n    <v-snackbar v-model=\"snackbar.show\" :color=\"snackbar.color\" timeout=\"2500\">\r\n      {{ snackbar.text }}\r\n    </v-snackbar>\r\n  </v-container>\r\n</template>\r\n\r\n<script setup>\r\n/* eslint-disable no-unused-vars */ /* ← evita falsos positivos al usar <script setup> */\r\nimport { ref, reactive, computed, onMounted, onUnmounted } from \"vue\";\r\nimport { useRoute } from \"vue-router\";\r\nimport axios from \"axios\";\r\nimport { io } from \"socket.io-client\";\r\n\r\nconst route = useRoute();\r\nconst idMesa = route.params.mesaId;\r\n\r\nconst categorias = ref([]);\r\nconst articulos = ref([]);\r\nconst search = ref(\"\");\r\nconst isSubmitting = ref(false);\r\nconst confirmarEnvio = ref(false);\r\n\r\n/* 🔔 Snackbar */\r\nconst snackbar = reactive({ show: false, text: \"\", color: \"green\" });\r\nconst showSnack = (text, color = \"green\") => {\r\n  snackbar.text = text;\r\n  snackbar.color = color;\r\n  snackbar.show = true;\r\n};\r\n\r\n/* ⏱️ ticker */\r\nconst nowTick = ref(Date.now());\r\nlet tickInterval = null;\r\n\r\nconst pedido = reactive({\r\n  id_miembro: 1,\r\n  id_mesa: idMesa,\r\n  nombre: \"\",\r\n  minutos: null,\r\n  estado: \"pendiente\",\r\n  id_pedido: null,\r\n  inicio_preparacion: null,\r\n  articulos: [],\r\n});\r\n\r\nconst socket = io(\"http://localhost:8080\");\r\n\r\n/* =================== COMPUTED / HELPERS =================== */\r\nconst totalGeneral = computed(() =>\r\n  pedido.articulos.reduce((sum, a) => sum + a.precio * a.cantidad, 0)\r\n);\r\n\r\nconst categoriasFiltradas = computed(() =>\r\n  categorias.value.filter((cat) =>\r\n    articulos.value.some((a) => a.id_categoria === cat.id_categoria)\r\n  )\r\n);\r\n\r\nconst articulosFiltradosGlobal = computed(() =>\r\n  articulos.value.filter((a) =>\r\n    a.nombre?.toLowerCase().includes(search.value.toLowerCase() || \"\")\r\n  )\r\n);\r\n\r\nconst articulosYaAgregadosAgrupados = computed(() => {\r\n  const agrupados = {};\r\n  for (const item of pedido.articulos.filter((i) => i.yaAgregado)) {\r\n    const clave = `${item.nombre}|${item.precio}|${item.extra || \"\"}`;\r\n    if (!agrupados[clave]) agrupados[clave] = { ...item, cantidad: 0 };\r\n    agrupados[clave].cantidad += item.cantidad;\r\n  }\r\n  return Object.values(agrupados);\r\n});\r\n\r\nconst pedidoValido = computed(() =>\r\n  pedido.nombre.trim() !== \"\" && pedido.articulos.length > 0\r\n);\r\n\r\nconst tipoAlerta = computed(() =>\r\n  pedido.estado === \"servido\"\r\n    ? \"info\"\r\n    : pedido.estado === \"listo\"\r\n    ? \"success\"\r\n    : pedido.estado === \"en preparación\"\r\n    ? \"warning\"\r\n    : \"info\"\r\n);\r\nconst iconoAlerta = computed(() =>\r\n  pedido.estado === \"servido\"\r\n    ? \"mdi-cash\"\r\n    : pedido.estado === \"listo\"\r\n    ? \"mdi-check-circle\"\r\n    : pedido.estado === \"en preparación\"\r\n    ? \"mdi-fire\"\r\n    : \"mdi-information\"\r\n);\r\nconst colorAlerta = computed(() =>\r\n  pedido.estado === \"servido\"\r\n    ? \"blue lighten-4\"\r\n    : pedido.estado === \"listo\"\r\n    ? \"green lighten-4\"\r\n    : pedido.estado === \"en preparación\"\r\n    ? \"orange lighten-4\"\r\n    : \"blue lighten-4\"\r\n);\r\n\r\nconst minutosEnPreparacion = computed(() => {\r\n  if (!pedido.inicio_preparacion) return 0;\r\n  const inicio = new Date(pedido.inicio_preparacion).getTime();\r\n  const diffMs = nowTick.value - inicio;\r\n  const mins = Math.floor(diffMs / 60000);\r\n  return mins < 0 ? 0 : mins;\r\n});\r\n\r\n/* =================== ACCIONES =================== */\r\nconst validarNombre = () => {\r\n  pedido.nombre = pedido.nombre.replace(/[^a-zA-Z]/g, \"\");\r\n};\r\n\r\nconst agregarArticulo = (articulo) => {\r\n  const nuevo = {\r\n    ...articulo,\r\n    cantidad: 1,\r\n    extra: \"\",\r\n    expandido: false,\r\n    yaAgregado: false,\r\n    _uid: Date.now() + Math.random(),\r\n  };\r\n  pedido.articulos.push(nuevo);\r\n};\r\n\r\nconst duplicarArticulo = (item) => {\r\n  const copia = { ...item, _uid: Date.now() + Math.random(), yaAgregado: false };\r\n  pedido.articulos.push(copia);\r\n};\r\n\r\nconst eliminarArticulo = (item) => {\r\n  const index = pedido.articulos.indexOf(item);\r\n  if (index !== -1) pedido.articulos.splice(index, 1);\r\n};\r\n\r\nconst calcularSubtotalCategoria = (id_categoria) =>\r\n  pedido.articulos\r\n    .filter((a) => a.id_categoria === id_categoria)\r\n    .reduce((sum, a) => sum + a.precio * a.cantidad, 0);\r\n\r\nconst articulosFiltradosDisponibles = (id_categoria) => {\r\n  const idsYaAgregados = pedido.articulos\r\n    .filter((i) => !i.yaAgregado)\r\n    .map((i) => i.id_articulo);\r\n\r\n  return articulos.value.filter(\r\n    (a) =>\r\n      a.id_categoria === id_categoria &&\r\n      a.nombre?.toLowerCase().includes(search.value.toLowerCase() || \"\") &&\r\n      !idsYaAgregados.includes(a.id_articulo)\r\n  );\r\n};\r\n\r\nconst reiniciarPedido = () => {\r\n  pedido.id_pedido = null;\r\n  pedido.estado = \"pendiente\";\r\n  pedido.nombre = \"\";\r\n  pedido.minutos = null;\r\n  pedido.articulos = [];\r\n};\r\n\r\n/* 🔕 sockets sin alertas intrusivas */\r\nsocket.on(\"estado-pedido-actualizado\", async ({ id_pedido }) => {\r\n  if (pedido.id_pedido === id_pedido) {\r\n    try {\r\n      const res = await axios.get(`http://localhost:8080/api/pedidos/${id_pedido}`);\r\n      const pedidoActualizado = res.data;\r\n      pedido.estado = pedidoActualizado.estado;\r\n      pedido.inicio_preparacion = pedidoActualizado.inicio_preparacion;\r\n    } catch (e) {\r\n      console.error(\"sync pedido:\", e);\r\n    }\r\n  }\r\n});\r\n\r\nsocket.on(\"detalle-preparado\", (detalle) => {\r\n  if (detalle.id_pedido !== pedido.id_pedido) return;\r\n  const idx = pedido.articulos.findIndex(a => a.id_detalle === detalle.id_detalle);\r\n  if (idx !== -1) {\r\n    pedido.articulos.splice(idx, 1, { ...pedido.articulos[idx], preparado: true });\r\n  }\r\n});\r\n\r\n/* CRUD principal */\r\nconst enviarPedido = async () => {\r\n  if (isSubmitting.value) return;\r\n  isSubmitting.value = true;\r\n\r\n  try {\r\n    let idPedido = pedido.id_pedido;\r\n\r\n    // 1) Crear pedido si no existe\r\n    if (!idPedido) {\r\n      const res = await axios.post(\"http://localhost:8080/api/pedidos\", {\r\n        nombre: pedido.nombre || \"Pedido sin nombre\",\r\n        total: totalGeneral.value,\r\n        estado: \"pendiente\",\r\n        fecha_hora: new Date().toISOString(),\r\n        id_miembro: pedido.id_miembro,\r\n        id_mesa: idMesa,\r\n      });\r\n      idPedido = res.data.pedido.id_pedido;\r\n      pedido.id_pedido = idPedido;\r\n\r\n      // Emitimos ambos para compatibilidad con cocina\r\n      socket.emit(\"nuevo-pedido\", { id_pedido: idPedido });\r\n      socket.emit(\"nuevo-pedido-creado\", { id_pedido: idPedido });\r\n    }\r\n\r\n    // 2) Insertar nuevos artículos\r\n    let nuevosArticulosAgregados = false;\r\n    for (const art of pedido.articulos) {\r\n      if (art.yaAgregado) continue;\r\n      nuevosArticulosAgregados = true;\r\n\r\n      await axios.post(\"http://localhost:8080/api/detallepedido\", {\r\n        id_pedido: idPedido,\r\n        id_articulo: art.id_articulo,\r\n        cantidad: art.cantidad,\r\n        precio_unitario: art.precio,\r\n        subtotal: art.precio * art.cantidad,\r\n        extra: art.extra,\r\n        cuenta: \"General\",\r\n        preparado: false,\r\n      });\r\n      socket.emit(\"nuevo-detalle-agregado\", { id_pedido: idPedido });\r\n      art.yaAgregado = true;\r\n    }\r\n\r\n    // 3) Si estaba 'listo' y agregamos -> volver a 'pendiente'\r\n    if (pedido.estado === \"listo\" && nuevosArticulosAgregados) {\r\n      await axios.put(`http://localhost:8080/api/pedidos/${idPedido}`, { estado: \"pendiente\" });\r\n      socket.emit(\"estado-pedido-actualizado\", { id_pedido: idPedido, nuevoEstado: \"pendiente\" });\r\n      pedido.estado = \"pendiente\";\r\n    }\r\n\r\n    // 4) Actualizar total\r\n    await axios.put(`http://localhost:8080/api/pedidos/${idPedido}`, {\r\n      total: totalGeneral.value,\r\n    });\r\n\r\n    // 5) Mesa ocupada\r\n    await axios.put(`http://localhost:8080/api/mesas/${idMesa}`, {\r\n      estado: \"ocupada\",\r\n    });\r\n\r\n    // 6) Refrescar detalles desde backend\r\n    const detalles = await axios.get(\r\n      `http://localhost:8080/api/detallepedido/pedido/${idPedido}`\r\n    );\r\n    pedido.articulos = detalles.data.map((item) => ({\r\n      id_articulo: item.id_articulo,\r\n      id_detalle: item.id_detalle,\r\n      nombre: item.nombre || (item.articulo?.nombre ?? \"Sin nombre\"),\r\n      id_categoria: item.id_categoria ?? item.articulo?.id_categoria ?? null,\r\n      precio: parseFloat(item.precio_unitario),\r\n      cantidad: item.cantidad,\r\n      extra: item.extra || \"\",\r\n      preparado: !!item.preparado,\r\n      expandido: false,\r\n      yaAgregado: true,\r\n      _uid: Date.now() + Math.random(),\r\n    }));\r\n\r\n    confirmarEnvio.value = false;\r\n    showSnack(\"✅ Pedido enviado/actualizado\", \"green\");\r\n  } catch (err) {\r\n    console.error(err);\r\n    confirmarEnvio.value = false;\r\n    showSnack(\"❌ Error al enviar\", \"red\");\r\n  } finally {\r\n    isSubmitting.value = false;\r\n  }\r\n};\r\n\r\nconst marcarComoServido = async () => {\r\n  try {\r\n    if (!pedido.id_pedido || pedido.estado !== \"listo\") return;\r\n    await axios.put(`http://localhost:8080/api/pedidos/${pedido.id_pedido}`, { estado: \"servido\" });\r\n    await axios.put(`http://localhost:8080/api/mesas/${idMesa}`, { estado: \"pendiente_pago\" });\r\n    socket.emit(\"estado-pedido-actualizado\", { id_pedido: pedido.id_pedido, nuevoEstado: \"servido\" });\r\n    pedido.estado = \"servido\";\r\n  } catch (e) {\r\n    console.error(\"servir:\", e);\r\n  }\r\n};\r\n\r\nconst cancelarPedido = async () => {\r\n  try {\r\n    if (pedido.id_pedido) {\r\n      await axios.put(`http://localhost:8080/api/pedidos/${pedido.id_pedido}`, { estado: \"cancelado\" });\r\n      await axios.put(`http://localhost:8080/api/mesas/${idMesa}`, { estado: \"libre\" });\r\n      socket.emit(\"estado-pedido-actualizado\", { id_pedido: pedido.id_pedido, nuevoEstado: \"cancelado\" });\r\n    }\r\n    reiniciarPedido();\r\n  } catch (e) {\r\n    console.error(\"cancelar:\", e);\r\n  }\r\n};\r\n\r\n/* =================== MOUNT =================== */\r\nonMounted(async () => {\r\n  tickInterval = setInterval(() => (nowTick.value = Date.now()), 60_000);\r\n\r\n  try {\r\n    const cat = await axios.get(\"http://localhost:8080/api/categorias\");\r\n    categorias.value = cat.data;\r\n\r\n    const art = await axios.get(\"http://localhost:8080/api/articulos\");\r\n    articulos.value = art.data;\r\n\r\n    if (!idMesa) return;\r\n\r\n    const activo = await axios.get(\r\n      `http://localhost:8080/api/pedidos/mesa/${idMesa}/activo`\r\n    );\r\n\r\n    if (activo.data.length > 0) {\r\n      const p = activo.data[0];\r\n      if ([\"activo\", \"pendiente\", \"listo\", \"en preparación\"].includes(p.estado)) {\r\n        Object.assign(pedido, {\r\n          nombre: p.nombre,\r\n          minutos: p.minutos,\r\n          id_miembro: p.id_miembro,\r\n          estado: p.estado,\r\n          inicio_preparacion: p.inicio_preparacion,\r\n          id_pedido: p.id_pedido,\r\n        });\r\n\r\n        const detalles = await axios.get(\r\n          `http://localhost:8080/api/detallepedido/pedido/${pedido.id_pedido}`\r\n        );\r\n\r\n        pedido.articulos = detalles.data.map((item) => ({\r\n          id_articulo: item.id_articulo,\r\n          id_detalle: item.id_detalle,\r\n          nombre: item.nombre || (item.articulo?.nombre ?? \"Sin nombre\"),\r\n          id_categoria: item.id_categoria ?? item.articulo?.id_categoria ?? null,\r\n          precio: parseFloat(item.precio_unitario),\r\n          cantidad: item.cantidad,\r\n          extra: item.extra || \"\",\r\n          preparado: !!item.preparado,\r\n          expandido: false,\r\n          yaAgregado: true,\r\n          _uid: Date.now() + Math.random(),\r\n        }));\r\n      } else {\r\n        reiniciarPedido();\r\n      }\r\n    }\r\n  } catch (err) {\r\n    console.warn(\"No se pudo cargar pedido activo:\", err?.message);\r\n  }\r\n});\r\n\r\nonUnmounted(() => {\r\n  if (tickInterval) clearInterval(tickInterval);\r\n});\r\n\r\n/* 👇 Opcional: marcar “uso” para linters estrictos */\r\nvoid (categoriasFiltradas,\r\n  articulosFiltradosGlobal,\r\n  articulosYaAgregadosAgrupados,\r\n  tipoAlerta,\r\n  iconoAlerta,\r\n  colorAlerta,\r\n  minutosEnPreparacion,\r\n  validarNombre,\r\n  agregarArticulo,\r\n  duplicarArticulo,\r\n  eliminarArticulo,\r\n  calcularSubtotalCategoria,\r\n  articulosFiltradosDisponibles,\r\n  marcarComoServido,\r\n  cancelarPedido);\r\n</script>\r\n","import script from \"./NuevoPedido.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./NuevoPedido.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","// Styles\nimport './VSnackbar.sass'\n\n// Components\nimport { VDefaultsProvider } from '@/components/VDefaultsProvider'\nimport { VOverlay } from '@/components/VOverlay'\nimport { makeVOverlayProps } from '@/components/VOverlay/VOverlay'\nimport { VProgressLinear } from '@/components/VProgressLinear'\n\n// Composables\nimport { useLayout } from '@/composables'\nimport { forwardRefs } from '@/composables/forwardRefs'\nimport { VuetifyLayoutKey } from '@/composables/layout'\nimport { makeLocationProps } from '@/composables/location'\nimport { makePositionProps, usePosition } from '@/composables/position'\nimport { useProxiedModel } from '@/composables/proxiedModel'\nimport { makeRoundedProps, useRounded } from '@/composables/rounded'\nimport { useScopeId } from '@/composables/scopeId'\nimport { makeThemeProps, provideTheme } from '@/composables/theme'\nimport { useToggleScope } from '@/composables/toggleScope'\nimport { genOverlays, makeVariantProps, useVariant } from '@/composables/variant'\n\n// Utilities\nimport { computed, inject, mergeProps, nextTick, onMounted, onScopeDispose, ref, shallowRef, watch, watchEffect } from 'vue'\nimport { genericComponent, omit, propsFactory, refElement, useRender } from '@/util'\n\n// Types\nimport type { Ref } from 'vue'\n\ntype VSnackbarSlots = {\n  activator: { isActive: boolean, props: Record<string, any> }\n  default: never\n  actions: { isActive: Ref<boolean> }\n  text: never\n}\n\nfunction useCountdown (milliseconds: () => number) {\n  const time = shallowRef(milliseconds())\n  let timer = -1\n\n  function clear () {\n    clearInterval(timer)\n  }\n\n  function reset () {\n    clear()\n\n    nextTick(() => time.value = milliseconds())\n  }\n\n  function start (el?: HTMLElement) {\n    const style = el ? getComputedStyle(el) : { transitionDuration: 0.2 }\n    const interval = parseFloat(style.transitionDuration) * 1000 || 200\n\n    clear()\n\n    if (time.value <= 0) return\n\n    const startTime = performance.now()\n    timer = window.setInterval(() => {\n      const elapsed = performance.now() - startTime + interval\n      time.value = Math.max(milliseconds() - elapsed, 0)\n\n      if (time.value <= 0) clear()\n    }, interval)\n  }\n\n  onScopeDispose(clear)\n\n  return { clear, time, start, reset }\n}\n\nexport const makeVSnackbarProps = propsFactory({\n  multiLine: Boolean,\n  text: String,\n  timer: [Boolean, String],\n  timeout: {\n    type: [Number, String],\n    default: 5000,\n  },\n  vertical: Boolean,\n\n  ...makeLocationProps({ location: 'bottom' } as const),\n  ...makePositionProps(),\n  ...makeRoundedProps(),\n  ...makeVariantProps(),\n  ...makeThemeProps(),\n  ...omit(makeVOverlayProps({\n    transition: 'v-snackbar-transition',\n  }), ['persistent', 'noClickAnimation', 'scrim', 'scrollStrategy']),\n}, 'VSnackbar')\n\nexport const VSnackbar = genericComponent<VSnackbarSlots>()({\n  name: 'VSnackbar',\n\n  props: makeVSnackbarProps(),\n\n  emits: {\n    'update:modelValue': (v: boolean) => true,\n  },\n\n  setup (props, { slots }) {\n    const isActive = useProxiedModel(props, 'modelValue')\n    const { positionClasses } = usePosition(props)\n    const { scopeId } = useScopeId()\n    const { themeClasses } = provideTheme(props)\n    const { colorClasses, colorStyles, variantClasses } = useVariant(props)\n    const { roundedClasses } = useRounded(props)\n    const countdown = useCountdown(() => Number(props.timeout))\n\n    const overlay = ref<VOverlay>()\n    const timerRef = ref<VProgressLinear>()\n    const isHovering = shallowRef(false)\n    const startY = shallowRef(0)\n    const mainStyles = ref()\n    const hasLayout = inject(VuetifyLayoutKey, undefined)\n\n    useToggleScope(() => !!hasLayout, () => {\n      const layout = useLayout()\n\n      watchEffect(() => {\n        mainStyles.value = layout.mainStyles.value\n      })\n    })\n\n    watch(isActive, startTimeout)\n    watch(() => props.timeout, startTimeout)\n\n    onMounted(() => {\n      if (isActive.value) startTimeout()\n    })\n\n    let activeTimeout = -1\n    function startTimeout () {\n      countdown.reset()\n      window.clearTimeout(activeTimeout)\n      const timeout = Number(props.timeout)\n\n      if (!isActive.value || timeout === -1) return\n\n      const element = refElement(timerRef.value)\n\n      countdown.start(element)\n\n      activeTimeout = window.setTimeout(() => {\n        isActive.value = false\n      }, timeout)\n    }\n\n    function clearTimeout () {\n      countdown.reset()\n      window.clearTimeout(activeTimeout)\n    }\n\n    function onPointerenter () {\n      isHovering.value = true\n      clearTimeout()\n    }\n\n    function onPointerleave () {\n      isHovering.value = false\n      startTimeout()\n    }\n\n    function onTouchstart (event: TouchEvent) {\n      startY.value = event.touches[0].clientY\n    }\n\n    function onTouchend (event: TouchEvent) {\n      if (Math.abs(startY.value - event.changedTouches[0].clientY) > 50) {\n        isActive.value = false\n      }\n    }\n\n    function onAfterLeave () {\n      if (isHovering.value) onPointerleave()\n    }\n\n    const locationClasses = computed(() => {\n      return props.location.split(' ').reduce((acc, loc) => {\n        acc[`v-snackbar--${loc}`] = true\n\n        return acc\n      }, {} as Record<string, any>)\n    })\n\n    useRender(() => {\n      const overlayProps = VOverlay.filterProps(props)\n      const hasContent = !!(slots.default || slots.text || props.text)\n\n      return (\n        <VOverlay\n          ref={ overlay }\n          class={[\n            'v-snackbar',\n            {\n              'v-snackbar--active': isActive.value,\n              'v-snackbar--multi-line': props.multiLine && !props.vertical,\n              'v-snackbar--timer': !!props.timer,\n              'v-snackbar--vertical': props.vertical,\n            },\n            locationClasses.value,\n            positionClasses.value,\n            props.class,\n          ]}\n          style={[\n            mainStyles.value,\n            props.style,\n          ]}\n          { ...overlayProps }\n          v-model={ isActive.value }\n          contentProps={ mergeProps({\n            class: [\n              'v-snackbar__wrapper',\n              themeClasses.value,\n              colorClasses.value,\n              roundedClasses.value,\n              variantClasses.value,\n            ],\n            style: [\n              colorStyles.value,\n            ],\n            onPointerenter,\n            onPointerleave,\n          }, overlayProps.contentProps)}\n          persistent\n          noClickAnimation\n          scrim={ false }\n          scrollStrategy=\"none\"\n          _disableGlobalStack\n          onTouchstartPassive={ onTouchstart }\n          onTouchend={ onTouchend }\n          onAfterLeave={ onAfterLeave }\n          { ...scopeId }\n          v-slots={{ activator: slots.activator }}\n        >\n          { genOverlays(false, 'v-snackbar') }\n\n          { props.timer && !isHovering.value && (\n            <div key=\"timer\" class=\"v-snackbar__timer\">\n              <VProgressLinear\n                ref={ timerRef }\n                color={ typeof props.timer === 'string' ? props.timer : 'info' }\n                max={ props.timeout }\n                model-value={ countdown.time.value }\n              />\n            </div>\n          )}\n\n          { hasContent && (\n            <div\n              key=\"content\"\n              class=\"v-snackbar__content\"\n              role=\"status\"\n              aria-live=\"polite\"\n            >\n              { slots.text?.() ?? props.text }\n\n              { slots.default?.() }\n            </div>\n          )}\n\n          { slots.actions && (\n            <VDefaultsProvider\n              defaults={{\n                VBtn: {\n                  variant: 'text',\n                  ripple: false,\n                  slim: true,\n                },\n              }}\n            >\n              <div class=\"v-snackbar__actions\">\n                { slots.actions({ isActive }) }\n              </div>\n            </VDefaultsProvider>\n          )}\n        </VOverlay>\n      )\n    })\n\n    return forwardRefs({}, overlay)\n  },\n})\n\nexport type VSnackbar = InstanceType<typeof VSnackbar>\n"],"names":["route","useRoute","idMesa","params","mesaId","categorias","ref","articulos","search","isSubmitting","confirmarEnvio","snackbar","reactive","show","text","color","showSnack","nowTick","Date","now","tickInterval","pedido","id_miembro","id_mesa","nombre","minutos","estado","id_pedido","inicio_preparacion","socket","io","totalGeneral","computed","reduce","sum","a","precio","cantidad","categoriasFiltradas","value","filter","cat","some","id_categoria","articulosFiltradosGlobal","toLowerCase","includes","articulosYaAgregadosAgrupados","agrupados","item","i","yaAgregado","clave","extra","Object","values","pedidoValido","trim","length","tipoAlerta","iconoAlerta","colorAlerta","minutosEnPreparacion","inicio","getTime","diffMs","mins","Math","floor","validarNombre","replace","agregarArticulo","articulo","nuevo","expandido","_uid","random","push","duplicarArticulo","copia","eliminarArticulo","index","indexOf","splice","calcularSubtotalCategoria","articulosFiltradosDisponibles","idsYaAgregados","map","id_articulo","reiniciarPedido","on","async","res","axios","get","pedidoActualizado","data","e","console","error","detalle","idx","findIndex","id_detalle","preparado","enviarPedido","idPedido","post","total","fecha_hora","toISOString","emit","nuevosArticulosAgregados","art","precio_unitario","subtotal","cuenta","put","nuevoEstado","detalles","parseFloat","err","marcarComoServido","cancelarPedido","onMounted","setInterval","activo","p","assign","warn","message","onUnmounted","clearInterval","_createBlock","_component_v_container","class","_createVNode","_component_v_row","_component_v_col","cols","_cache","_createElementVNode","_component_v_alert","type","icon","border","_toDisplayString","toUpperCase","_createElementBlock","_Fragment","key","_hoisted_1","_hoisted_2","_renderList","_hoisted_3","_hoisted_4","_component_v_btn","onClick","disabled","_component_v_icon","start","_component_v_text_field","$event","label","onInput","toFixed","clearable","_component_v_list","_component_v_list_item","_component_v_list_item_content","_component_v_list_item_title","_component_v_list_item_subtitle","_component_v_expansion_panels","categoria","_component_v_expansion_panel","_component_v_expansion_panel_title","_component_v_expansion_panel_text","_component_v_card","_component_v_card_text","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","dense","block","outlined","_component_v_card_title","_component_v_divider","_component_v_subheader","style","_component_v_dialog","_hoisted_9","_hoisted_10","_component_v_card_actions","_component_v_snackbar","timeout","__exports__","useCountdown","milliseconds","time","shallowRef","timer","clear","reset","nextTick","el","getComputedStyle","transitionDuration","interval","startTime","performance","window","elapsed","max","onScopeDispose","makeVSnackbarProps","propsFactory","multiLine","Boolean","String","Number","default","vertical","makeLocationProps","location","makePositionProps","makeRoundedProps","makeVariantProps","makeThemeProps","omit","makeVOverlayProps","transition","VSnackbar","genericComponent","name","props","emits","v","setup","_ref","slots","isActive","useProxiedModel","positionClasses","usePosition","scopeId","useScopeId","themeClasses","provideTheme","colorClasses","colorStyles","variantClasses","useVariant","roundedClasses","useRounded","countdown","overlay","timerRef","isHovering","startY","mainStyles","hasLayout","inject","VuetifyLayoutKey","undefined","useToggleScope","layout","useLayout","watchEffect","watch","startTimeout","activeTimeout","clearTimeout","element","refElement","setTimeout","onPointerenter","onPointerleave","onTouchstart","event","touches","clientY","onTouchend","abs","changedTouches","onAfterLeave","locationClasses","split","acc","loc","useRender","overlayProps","VOverlay","filterProps","hasContent","_mergeProps","mergeProps","contentProps","genOverlays","VProgressLinear","actions","VDefaultsProvider","VBtn","variant","ripple","slim","activator","forwardRefs"],"sourceRoot":""}