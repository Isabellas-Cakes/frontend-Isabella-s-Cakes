{"version":3,"file":"js/253.9a1751e7.js","mappings":"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","sources":["webpack://interfaz/../../../src/components/VGrid/VSpacer.ts","webpack://interfaz/./src/views/PagosPedidos.vue","webpack://interfaz/./src/views/PagosPedidos.vue?b5b4"],"sourcesContent":["// Styles\nimport './VGrid.sass'\n\n// Utilities\nimport { createSimpleFunctional } from '@/util'\n\nexport const VSpacer = createSimpleFunctional('v-spacer', 'div', 'VSpacer')\n\nexport type VSpacer = InstanceType<typeof VSpacer>\n","<template>\r\n  <v-container>\r\n    <v-row class=\"align-center justify-space-between mb-4\">\r\n      <v-col cols=\"auto\">\r\n        <h2 class=\"mb-0\">üí≥ Pedidos pendientes de pago</h2>\r\n      </v-col>\r\n      <v-col cols=\"auto\" v-if=\"rol === 'cajero'\">\r\n        <v-btn color=\"black\" variant=\"outlined\" @click=\"cerrarSesion\">\r\n          <v-icon left>mdi-logout</v-icon>\r\n          Cerrar sesi√≥n\r\n        </v-btn>\r\n      </v-col>\r\n    </v-row>\r\n\r\n    <v-alert\r\n      v-if=\"pedidos.length === 0\"\r\n      type=\"info\"\r\n      border=\"start\"\r\n      colored-border\r\n    >\r\n      No hay pedidos listos para pagar.\r\n    </v-alert>\r\n\r\n    <v-card\r\n      v-for=\"pedido in pedidos\"\r\n      :key=\"pedido.id_pedido\"\r\n      class=\"mb-4\"\r\n      outlined\r\n    >\r\n      <v-card-title>\r\n        üßæ Pedido #{{ pedido.id_pedido }} ‚Äî Mesa {{ pedido.id_mesa }}\r\n      </v-card-title>\r\n      <v-card-subtitle>\r\n        <div>\r\n          <strong>Mesa:</strong> {{ pedido.mesa?.numero || pedido.id_mesa }}\r\n        </div>\r\n        <div><strong>Cliente:</strong> {{ pedido.nombre || \"Sin nombre\" }}</div>\r\n        <div>\r\n          <strong>Total:</strong> Q{{ calcularTotal(pedido).toFixed(2) }}\r\n        </div>\r\n      </v-card-subtitle>\r\n\r\n      <v-card-actions>\r\n        <v-btn color=\"primary\" @click=\"seleccionarPedido(pedido)\">\r\n          üíµ Pagar\r\n        </v-btn>\r\n      </v-card-actions>\r\n    </v-card>\r\n\r\n    <!-- Di√°logo de pago -->\r\n    <v-dialog v-model=\"dialogoPago\" max-width=\"600px\">\r\n      <v-card>\r\n        <v-card-title>\r\n          Confirmar pago ‚Äî Pedido #{{ pedidoSeleccionado?.id_pedido }}\r\n        </v-card-title>\r\n        <v-card-text v-if=\"pedidoSeleccionado\">\r\n          <v-text-field\r\n            v-model.number=\"efectivoRecibido\"\r\n            label=\"üíµ Efectivo recibido\"\r\n            type=\"number\"\r\n            min=\"0\"\r\n            class=\"mt-2\"\r\n            prepend-inner-icon=\"mdi-cash\"\r\n          />\r\n\r\n          <p v-if=\"efectivoRecibido !== null\" class=\"mt-2\">\r\n            <strong>Cambio:</strong>\r\n            <span v-if=\"cambio >= 0\">Q{{ cambio.toFixed(2) }}</span>\r\n            <span v-else class=\"text-error\">‚ùå Efectivo insuficiente</span>\r\n          </p>\r\n\r\n          <v-expansion-panels class=\"mt-4\">\r\n            <v-expansion-panel>\r\n              <v-expansion-panel-title\r\n                >üßæ Ver resumen de pago</v-expansion-panel-title\r\n              >\r\n              <v-expansion-panel-text>\r\n                <v-list density=\"compact\">\r\n                  <v-list-item\r\n                    v-for=\"detalle in pedidoSeleccionado?.detalles || []\"\r\n                    :key=\"detalle.id_detalle\"\r\n                  >\r\n                    <v-list-item-title>\r\n                      {{ detalle.cantidad }} x {{ detalle.nombre }}\r\n                    </v-list-item-title>\r\n                    <v-list-item-subtitle>\r\n                      Subtotal: Q{{ detalle.subtotal.toFixed(2) }}\r\n                    </v-list-item-subtitle>\r\n                  </v-list-item>\r\n                </v-list>\r\n                <p class=\"mt-2\">\r\n                  <strong>Total:</strong> Q{{\r\n                    calcularTotal(pedidoSeleccionado).toFixed(2)\r\n                  }}\r\n                </p>\r\n                <p><strong>M√©todo de pago:</strong> üíµ Efectivo</p>\r\n              </v-expansion-panel-text>\r\n            </v-expansion-panel>\r\n          </v-expansion-panels>\r\n        </v-card-text>\r\n\r\n        <v-card-actions>\r\n          <v-spacer />\r\n          <!-- \r\n          <v-btn text @click=\"dialogoPago = false\">Cancelar</v-btn>\r\n          <v-btn color=\"success\" @click=\"confirmarPago\">Confirmar pago</v-btn>\r\n          Di√°logo de pago -->\r\n\r\n          <v-btn color=\"success\" :disabled=\"isPaying\" @click=\"confirmarPago\">\r\n            {{ isPaying ? \"Procesando...\" : \"Confirmar pago\" }}\r\n          </v-btn>\r\n        </v-card-actions>\r\n      </v-card>\r\n    </v-dialog>\r\n  </v-container>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, onMounted, computed } from \"vue\";\r\nimport axios from \"axios\";\r\nimport { io } from \"socket.io-client\"; // üëà Importa socket.io-client\r\n\r\nconst pedidos = ref([]);\r\nconst pedidoSeleccionado = ref(null);\r\nconst dialogoPago = ref(false);\r\nconst efectivoRecibido = ref(null);\r\nconst isPaying = ref(false);\r\n\r\nconst rol = ref(localStorage.getItem(\"rol\"));\r\n\r\n// üîπ Conectar socket\r\nconst socket = io(\"http://localhost:8080\");\r\n\r\nfunction cerrarSesion() {\r\n  localStorage.clear();\r\n  window.location.href = \"/\"; // o router.push('/') si est√°s usando Vue Router\r\n}\r\n\r\nconst seleccionarPedido = async (pedido) => {\r\n  try {\r\n    const { data: detalles } = await axios.get(\r\n      `http://localhost:8080/api/detallepedido/pedido/${pedido.id_pedido}`\r\n    );\r\n\r\n    pedidoSeleccionado.value = {\r\n      ...pedido,\r\n      detalles: detalles.map((d) => ({\r\n        ...d,\r\n        nombre: d.nombre || d.articulo?.nombre || \"Art√≠culo\",\r\n        subtotal: parseFloat(d.subtotal),\r\n      })),\r\n    };\r\n\r\n    efectivoRecibido.value = null;\r\n    dialogoPago.value = true;\r\n  } catch (err) {\r\n    console.error(\"Error al cargar detalles:\", err);\r\n    alert(\"Error al cargar detalles del pedido\");\r\n  }\r\n};\r\n\r\nconst calcularTotal = (pedido) => {\r\n  if (!pedido || !pedido.detalles) return 0;\r\n  return pedido.detalles.reduce((sum, d) => sum + parseFloat(d.subtotal), 0);\r\n};\r\n\r\nconst cambio = computed(() => {\r\n  if (!pedidoSeleccionado.value || efectivoRecibido.value == null) return 0;\r\n  return efectivoRecibido.value - calcularTotal(pedidoSeleccionado.value);\r\n});\r\n\r\nconst confirmarPago = async () => {\r\n  if (!pedidoSeleccionado.value) return;\r\n\r\n  if (efectivoRecibido.value == null || cambio.value < 0) {\r\n    alert(\"Monto insuficiente\");\r\n    return;\r\n  }\r\n\r\n  isPaying.value = true; // ‚úÖ activar bloqueo\r\n  await pagarPedido(pedidoSeleccionado.value);\r\n};\r\n\r\nconst pagarPedido = async (pedido) => {\r\n  try {\r\n    await axios.put(\r\n      `http://localhost:8080/api/pedidos/${pedido.id_pedido}/pagar`,\r\n      { metodo_pago: \"efectivo\" }\r\n    );\r\n\r\n    pedidos.value = pedidos.value.filter(\r\n      (p) => p.id_pedido !== pedido.id_pedido\r\n    );\r\n    dialogoPago.value = false;\r\n    alert(\"‚úÖ Pedido pagado y mesa liberada\");\r\n  } catch (error) {\r\n    console.error(\"Error al pagar pedido:\", error);\r\n    alert(\"No se pudo procesar el pago\");\r\n  } finally {\r\n    isPaying.value = false; // Siempre liberar el bot√≥n\r\n  }\r\n};\r\n\r\nconst cargarPedidos = async () => {\r\n  try {\r\n    const { data } = await axios.get(\r\n      \"http://localhost:8080/api/pedidos\"\r\n    );\r\n    const pedidosListos = data.filter((p) => p.estado === \"servido\"); // üëà Solo pedidos servidos\r\n\r\n    // Cargar detalles de cada pedido\r\n    for (const pedido of pedidosListos) {\r\n      const { data: detalles } = await axios.get(\r\n        `http://localhost:8080/api/detallepedido/pedido/${pedido.id_pedido}`\r\n      );\r\n      pedido.detalles = detalles.map((d) => ({\r\n        ...d,\r\n        nombre: d.nombre || d.articulo?.nombre || \"Art√≠culo\",\r\n        subtotal: parseFloat(d.subtotal),\r\n      }));\r\n    }\r\n\r\n    pedidos.value = pedidosListos;\r\n  } catch (error) {\r\n    console.error(\"Error al cargar pedidos:\", error);\r\n  }\r\n};\r\n\r\nonMounted(() => {\r\n  cargarPedidos();\r\n\r\n/*\r\n  socket.on(\"estado-pedido-actualizado\", (pedidoActualizado) => {\r\n  console.log(\"üì° Evento recibido:\", pedidoActualizado);\r\n\r\n  // üîπ Chequear estado real\r\n  if (pedidoActualizado.estado === \"servido\") {\r\n    cargarPedidos(); // o agregar din√°micamente el pedido a la lista\r\n  } else if (pedidoActualizado.estado === \"pagado\") {\r\n    // Removerlo de la lista si ya estaba\r\n    pedidos.value = pedidos.value.filter(\r\n      p => p.id_pedido !== pedidoActualizado.id_pedido\r\n    );\r\n  }\r\n});\r\n*/\r\n\r\n  // üîπ Listener de Socket.IO para actualizar en tiempo real\r\n /* socket.on(\"estado-pedido-actualizado\", ({ nuevoEstado }) => {\r\n    if (nuevoEstado === \"servido\") {\r\n      cargarPedidos(); // üîÅ Refresca lista si hay un nuevo servido\r\n    }\r\n  });*/\r\n\r\nsocket.on(\"estado-pedido-actualizado\", async (pedidoActualizado) => {\r\n  if (pedidoActualizado.estado === \"servido\") {\r\n    // Obtener detalles del pedido para mostrarlo completo\r\n    const { data: detalles } = await axios.get(\r\n      `http://localhost:8080/api/detallepedido/pedido/${pedidoActualizado.id_pedido}`\r\n    );\r\n\r\n    pedidoActualizado.detalles = detalles.map(d => ({\r\n      ...d,\r\n      nombre: d.nombre || d.articulo?.nombre || \"Art√≠culo\",\r\n      subtotal: parseFloat(d.subtotal),\r\n    }));\r\n\r\n    pedidos.value.push(pedidoActualizado);\r\n  } else if (pedidoActualizado.estado === \"pagado\") {\r\n    pedidos.value = pedidos.value.filter(\r\n      p => p.id_pedido !== pedidoActualizado.id_pedido\r\n    );\r\n  }\r\n});\r\n\r\n\r\n\r\n});\r\n</script>\r\n","import script from \"./PagosPedidos.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./PagosPedidos.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__"],"names":["VSpacer","createSimpleFunctional","pedidos","ref","pedidoSeleccionado","dialogoPago","efectivoRecibido","isPaying","rol","localStorage","getItem","socket","io","cerrarSesion","clear","window","location","href","seleccionarPedido","async","data","detalles","axios","get","pedido","id_pedido","value","map","d","nombre","articulo","subtotal","parseFloat","err","console","error","alert","calcularTotal","reduce","sum","cambio","computed","confirmarPago","pagarPedido","put","metodo_pago","filter","p","cargarPedidos","pedidosListos","estado","onMounted","on","pedidoActualizado","push","_createBlock","_component_v_container","_createVNode","_component_v_row","class","_component_v_col","cols","_cache","_createElementVNode","_component_v_btn","color","variant","onClick","_component_v_icon","left","length","_component_v_alert","type","border","_createElementBlock","_Fragment","_renderList","_component_v_card","key","outlined","_component_v_card_title","_toDisplayString","id_mesa","_component_v_card_subtitle","mesa","numero","toFixed","_component_v_card_actions","$event","_component_v_dialog","_component_v_card_text","_component_v_text_field","number","label","min","_hoisted_1","_hoisted_2","_hoisted_3","_component_v_expansion_panels","_component_v_expansion_panel","_component_v_expansion_panel_title","_component_v_expansion_panel_text","_component_v_list","density","detalle","_component_v_list_item","id_detalle","_component_v_list_item_title","cantidad","_component_v_list_item_subtitle","_hoisted_4","_component_v_spacer","disabled","__exports__"],"sourceRoot":""}